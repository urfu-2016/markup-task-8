body
{
    font-family: Verdana, sans-serif;
    font-size: 14px;
    margin: 0;
    overflow: hidden;
}

h1
{
    text-align: center;
}

main
{
    width: 300px;
    margin: 100px auto;
}

main input
{
    display: none;
}

.shade
{
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    background: rgba(0, 0, 0, .4);
    transition-property: opacity, visibility;
    transition-duration: .7s, 0s;
    transition-delay: 0s, .7s;
    z-index: 1;
}

article:target ~ .shade
{
    transition-delay: .7s, .7s;
    visibility: visible;
    opacity: 1;
}

article
{
    position: absolute;
    width: 300px;
    height: 170px;
    z-index: 2;
    transition: transform .7s linear;
}

article label
{
    position: absolute;
    width: 100%;
    height: 100%;
}

input[id='select-pepper']:checked ~ article label[for='select-pepper'],
input[id='select-cabbage']:checked ~ article label[for='select-cabbage'],
input[id='select-onion']:checked ~ article label[for='select-onion'],
input[id='select-cucumber']:checked ~ article label[for='select-cucumber'],
input[id='select-corn']:checked ~ article label[for='select-corn'],
input[id='select-garlic']:checked ~ article label[for='select-garlic'],
input[id='select-carrot']:checked ~ article label[for='select-carrot'],
input[id='select-tomato']:checked ~ article label[for='select-tomato']
{
    display: none;
}

input[id='select-pepper']:checked ~ article[id='cabbage'],
input[id='select-corn']:checked ~ article[id='pepper'],
input[id='select-cabbage']:checked ~ article[id='onion'],
input[id='select-cucumber']:checked ~ article[id='corn'],
input[id='select-onion']:checked ~ article[id='carrot'],
input[id='select-carrot']:checked ~ article[id='garlic'],
input[id='select-tomato']:checked ~ article[id='cucumber'],
input[id='select-garlic']:checked ~ article[id='tomato']
{
    transform: perspective(500px) rotateY(50deg)
        translateZ(120px) translateX(260px);
    z-index: -1;
}

input[id='select-cabbage']:checked ~ article[id='pepper'],
input[id='select-pepper']:checked ~ article[id='corn'],
input[id='select-corn']:checked ~ article[id='cucumber'],
input[id='select-onion']:checked ~ article[id='cabbage'],
input[id='select-cucumber']:checked ~ article[id='tomato'],
input[id='select-carrot']:checked ~ article[id='onion'],
input[id='select-tomato']:checked ~ article[id='garlic'],
input[id='select-garlic']:checked ~ article[id='carrot']
{
    transform: perspective(500px) rotateY(-50deg)
        translateZ(120px) translateX(-260px);
    z-index: -1;
}

input[id='select-pepper']:checked ~ article[id='onion'],
input[id='select-corn']:checked ~ article[id='cabbage'],
input[id='select-cucumber']:checked ~ article[id='pepper'],
input[id='select-cabbage']:checked ~ article[id='carrot'],
input[id='select-onion']:checked ~ article[id='garlic'],
input[id='select-carrot']:checked ~ article[id='tomato'],
input[id='select-tomato']:checked ~ article[id='corn'],
input[id='select-garlic']:checked ~ article[id='cucumber']
{
    transform: perspective(500px) rotateY(90deg)
        translateZ(400px) translateX(500px);
    z-index: -2;
}

input[id='select-pepper']:checked ~ article[id='cucumber'],
input[id='select-cabbage']:checked ~ article[id='corn'],
input[id='select-onion']:checked ~ article[id='pepper'],
input[id='select-corn']:checked ~ article[id='tomato'],
input[id='select-cucumber']:checked ~ article[id='garlic'],
input[id='select-carrot']:checked ~ article[id='cabbage'],
input[id='select-tomato']:checked ~ article[id='carrot'],
input[id='select-garlic']:checked ~ article[id='onion']
{
    transform: perspective(500px) rotateY(-90deg)
        translateZ(400px) translateX(-500px);
    z-index: -2;
}

input[id='select-pepper']:checked ~ article[id='carrot'],
input[id='select-corn']:checked ~ article[id='onion'],
input[id='select-cucumber']:checked ~ article[id='cabbage'],
input[id='select-cabbage']:checked ~ article[id='garlic'],
input[id='select-onion']:checked ~ article[id='tomato'],
input[id='select-carrot']:checked ~ article[id='cucumber'],
input[id='select-tomato']:checked ~ article[id='pepper'],
input[id='select-garlic']:checked ~ article[id='corn']
{
    transform: perspective(500px) rotateY(130deg)
        translateZ(700px) translateX(390px);
    z-index: -3;
}

input[id='select-pepper']:checked ~ article[id='tomato'],
input[id='select-cabbage']:checked ~ article[id='cucumber'],
input[id='select-corn']:checked ~ article[id='garlic'],
input[id='select-onion']:checked ~ article[id='corn'],
input[id='select-cucumber']:checked ~ article[id='carrot'],
input[id='select-carrot']:checked ~ article[id='pepper'],
input[id='select-tomato']:checked ~ article[id='onion'],
input[id='select-garlic']:checked ~ article[id='cabbage']
{
    transform: perspective(500px) rotateY(-130deg)
        translateZ(700px) translateX(-390px);
    z-index: -3;
}

input[id='select-pepper']:checked ~ article[id='garlic'],
input[id='select-corn']:checked ~ article[id='carrot'],
input[id='select-cabbage']:checked ~ article[id='tomato'],
input[id='select-onion']:checked ~ article[id='cucumber'],
input[id='select-cucumber']:checked ~ article[id='onion'],
input[id='select-carrot']:checked ~ article[id='corn'],
input[id='select-tomato']:checked ~ article[id='cabbage'],
input[id='select-garlic']:checked ~ article[id='pepper']
{
    transform: perspective(500px) rotateY(180deg) translateZ(640px);
    z-index: -3;
}

article img
{
    position: absolute;
    top: 0;
    box-shadow: 0 0 10px rgba(0, 0, 0, .1);
    height: 100%;
    width: 100%;
    object-fit: cover;
    transition: transform .7s linear .7s;
    transform: perspective(250px);
}

article:target
{
    z-index: 3;
}

article:target img
{
    transition: transform .7s linear;
    transform: perspective(250px) rotateX(90deg) scale(1.2);
}

article .show-recipe
{
    position: absolute;
    height: 100%;
    width: 100%;
    opacity: 0;
    background: rgba(0, 0, 0, .34);
    text-decoration: none;
    text-align: center;
}

.show-recipe:hover
{
    opacity: 1;
    animation-name: reflect;
    animation-duration: .5s;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
}

@keyframes reflect
{
    0%
    {
        background: linear-gradient(
            to bottom left,
            rgba(0, 0, 0, .7),
            rgba(255, 255, 255, .7),
            rgba(0, 0, 0, .7));
        background-size: 1000px 1000px;
        background-position: 0 -300px;
    }

    100%
    {
        background-position: -900px -300px;
        background-size: 1000px 1000px;
    }
}

article:target .show-recipe
{
    display: none;
}

.show-recipe span
{
    display: inline-block;
    padding: 42px 17px;
    margin-top: 30px;
    border: 4px solid #fff;
    border-radius: 50%;
    font-size: 1.5em;
    opacity: 0;
    color: #fff;
    transition: opacity .3s linear;
}

article:hover .show-recipe span
{
    opacity: 1;
}

.recipe
{
    display: flex;
    flex-wrap: wrap;
    align-content: flex-start;
    position: absolute;
    top: -85px;
    left: -180px;
    height: 340px;
    width: 600px;
    padding: 30px;
    border: 1px solid #777;
    background: #fff;
    transform: perspective(250px) rotateX(-90deg) scale(.5);
    transition: transform .7s linear;
}

article:target .recipe
{
    transition: transform .7s linear .7s;
    transform: perspective(250px) rotateX(0deg);
}

.recipe h2
{
    flex: 0 0 100%;
    height: 17%;
    margin: 0;
    padding-bottom: 5px;
    border-bottom: 3px solid #aaa;
    color: #aaa;
    font-size: 2.3em;
    font-weight: normal;
    box-sizing: border-box;
}

.recipe ul
{
    flex: 0 0 40%;
    padding: 0;
    box-sizing: border-box;
    list-style: none;
    font-weight: bold;
}

.recipe .instruction
{
    flex: 0 0 60%;
    height: 83%;
    padding-top: 25px;
    box-sizing: border-box;
}

.instruction .instruction-start
{
    color: #d00;
}

.recipe q
{
    display: block;
    border-top: 1px solid #000;
    padding-top: 5px;
    color: #bbb;
    font-style: italic;
}

.cross
{
    position: absolute;
    top: 10px;
    right: 10px;
    text-decoration: none;
    font-size: 1.5em;
}

.cross:visited
{
    color: initial;
}
